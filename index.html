<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logonvoice Â· BMS Control</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   DESIGN SYSTEM â€” PROFESSIONAL REFINEMENT
   Minimal Â· Precise Â· High-Contrast Â· Trustworthy
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Core neutrals â€” elevated, clean */
  --bg-primary: #0b0f12;
  --bg-secondary: #141a1f;
  --bg-tertiary: #1e262c;
  --bg-elevated: #232b33;
  
  /* RGB values for backdrop-filter */
  --bg-secondary-rgb: 20, 26, 31;
  --bg-primary-rgb: 11, 15, 18;
  
  /* Borders â€” subtle, precise */
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-default: rgba(255, 255, 255, 0.10);
  --border-strong: rgba(255, 255, 255, 0.18);
  
  /* Text â€” maximal readability */
  --text-primary: #ffffff;
  --text-secondary: #b0c0cc;
  --text-tertiary: #6f8596;
  --text-disabled: #4a5a68;
  
  /* Accent â€” sophisticated cyan */
  --accent-solid: #2dd4bf;
  --accent-hover: #5eead4;
  --accent-subtle: rgba(45, 212, 191, 0.12);
  --accent-glow: rgba(45, 212, 191, 0.25);
  
  /* Status â€” clear, meaningful */
  --success: #22c55e;
  --success-subtle: rgba(34, 197, 94, 0.12);
  --warning: #f59e0b;
  --warning-subtle: rgba(245, 158, 11, 0.12);
  --error: #ef4444;
  --error-subtle: rgba(239, 68, 68, 0.12);
  --info: #3b82f6;
  --info-subtle: rgba(59, 130, 246, 0.12);
  
  /* Shadows â€” depth with purpose */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.5);
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.6);
  --shadow-lg: 0 16px 40px rgba(0, 0, 0, 0.7);
  
  /* Radius â€” consistent geometry */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  
  /* Layout */
  --sidebar-w: 280px;
  --topbar-h: 72px;
  
  /* Motion */
  --tr-fast: 0.12s ease;
  --tr-base: 0.2s ease;
  --tr-slow: 0.3s ease;
  
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

[data-theme="light"] {
  --bg-primary: #f3f6f9;
  --bg-secondary: #ffffff;
  --bg-tertiary: #e9edf2;
  --bg-elevated: #ffffff;
  
  /* RGB values for light theme */
  --bg-secondary-rgb: 255, 255, 255;
  --bg-primary-rgb: 243, 246, 249;
  
  --border-subtle: rgba(0, 0, 0, 0.05);
  --border-default: rgba(0, 0, 0, 0.10);
  --border-strong: rgba(0, 0, 0, 0.18);
  --text-primary: #0a1a24;
  --text-secondary: #2c404f;
  --text-tertiary: #5b6f7e;
  --text-disabled: #8f9eaa;
  --accent-solid: #0e7b6e;
  --accent-hover: #0b6358;
  --accent-subtle: rgba(14, 123, 110, 0.08);
  --accent-glow: rgba(14, 123, 110, 0.2);
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 16px 40px rgba(0, 0, 0, 0.1);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   BASE ELEMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
body {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 14px;
  line-height: 1.5;
  min-height: 100vh;
  transition: background var(--tr-base), color var(--tr-base);
}

code, pre, .mono {
  font-family: "JetBrains Mono", monospace;
  font-feature-settings: "tnum";
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   LAYOUT â€” PRECISE GRID
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.shell {
  display: flex;
  min-height: 100vh;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   SIDEBAR â€” ELEVATED & STRUCTURED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.sidebar {
  width: var(--sidebar-w);
  background: var(--bg-secondary);
  border-right: 1px solid var(--border-default);
  display: flex;
  flex-direction: column;
  position: fixed;
  inset: 0 auto 0 0;
  z-index: 100;
  transition: transform var(--tr-base);
  overflow-y: auto;
}

.logo-container {
  padding: 24px 20px;
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo-mark {
  width: 40px;
  height: 40px;
  background: var(--accent-solid);
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--bg-primary);
  font-weight: 700;
  font-size: 20px;
  transition: background var(--tr-base);
}

.logo-text {
  display: flex;
  flex-direction: column;
}

.logo-name {
  font-weight: 700;
  font-size: 18px;
  letter-spacing: -0.02em;
  color: var(--text-primary);
  line-height: 1.2;
}

.logo-sub {
  font-size: 11px;
  font-weight: 500;
  color: var(--text-tertiary);
  letter-spacing: 0.3px;
  text-transform: uppercase;
}

.nav-section {
  flex: 1;
  padding: 20px 12px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.nav-group {
  padding: 12px 12px 8px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-tertiary);
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 14px;
  transition: all var(--tr-fast);
  border: none;
  background: transparent;
  width: 100%;
  text-align: left;
  cursor: pointer;
}

.nav-item:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}

.nav-item.active {
  background: var(--accent-subtle);
  color: var(--accent-solid);
}

.nav-item.active .nav-icon {
  color: var(--accent-solid);
}

.nav-icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-tertiary);
  border-radius: var(--radius-sm);
  font-size: 16px;
  transition: inherit;
}

.nav-item.active .nav-icon {
  background: var(--accent-subtle);
}

.sidebar-footer {
  padding: 16px 20px;
  border-top: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.status-indicator {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--text-tertiary);
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--success);
  box-shadow: 0 0 8px var(--success);
}

.dot.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.theme-toggle {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border-default);
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  cursor: pointer;
  transition: all var(--tr-fast);
}

.theme-toggle:hover {
  border-color: var(--accent-solid);
  color: var(--accent-solid);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   MAIN CONTENT AREA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.main {
  flex: 1;
  margin-left: var(--sidebar-w);
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Top Bar â€” precise & functional â€” FIXED backdrop-filter */
.top-bar {
  height: var(--topbar-h);
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 32px;
  position: sticky;
  top: 0;
  z-index: 90;
  /* FIXED: Proper backdrop-filter with RGB variables */
  backdrop-filter: blur(8px);
  background: rgba(var(--bg-secondary-rgb), 0.9);
}

.top-bar-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.menu-button {
  display: none;
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border-default);
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  font-size: 20px;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.breadcrumb {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-tertiary);
  font-size: 14px;
}

.breadcrumb-current {
  font-weight: 600;
  color: var(--text-primary);
}

.breadcrumb-sep {
  opacity: 0.4;
}

.top-bar-right {
  display: flex;
  align-items: center;
  gap: 16px;
}

.connection-badge {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: 40px;
  font-size: 12px;
  color: var(--text-secondary);
}

/* Content Area */
.content-area {
  padding: 32px;
  flex: 1;
}

/* FIXED: Section transitions with visibility approach */
.section {
  visibility: hidden;
  opacity: 0;
  transform: translateY(8px);
  transition: opacity var(--tr-slow), transform var(--tr-slow), visibility var(--tr-slow);
  height: 0;
  overflow: hidden;
  pointer-events: none;
}

.section.active {
  visibility: visible;
  opacity: 1;
  transform: translateY(0);
  height: auto;
  overflow: visible;
  pointer-events: auto;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.section-header {
  margin-bottom: 4px;
}

.section-title {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--text-primary);
  line-height: 1.2;
}

.section-description {
  font-size: 14px;
  color: var(--text-tertiary);
  margin-top: 4px;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CARD COMPONENTS â€” ELEVATED & CLEAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-xl);
  overflow: hidden;
  transition: border-color var(--tr-base), transform var(--tr-base);
}

.card:hover {
  border-color: var(--border-strong);
}

.card-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.card-header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.card-icon {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  background: var(--accent-subtle);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  color: var(--accent-solid);
}

.card-title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
}

.card-subtitle {
  font-size: 11px;
  color: var(--text-tertiary);
  font-family: "JetBrains Mono", monospace;
  margin-top: 2px;
}

.card-body {
  padding: 24px;
}

.card-footer {
  padding: 16px 24px;
  border-top: 1px solid var(--border-subtle);
  background: var(--bg-tertiary);
  font-size: 12px;
  color: var(--text-tertiary);
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Grid System */
.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
}

/* Balance Hero */
.balance-hero {
  padding: 32px 24px;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  background: linear-gradient(145deg, var(--bg-secondary), var(--bg-tertiary));
  position: relative;
  overflow: hidden;
}

.balance-hero::after {
  content: '';
  position: absolute;
  top: -100px;
  right: -100px;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, var(--accent-subtle) 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}

.balance-label {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-tertiary);
  margin-bottom: 8px;
}

.balance-number {
  font-size: 64px;
  font-weight: 800;
  letter-spacing: -0.03em;
  color: var(--accent-solid);
  line-height: 1;
  font-feature-settings: "tnum";
}

.balance-number.empty {
  color: var(--text-tertiary);
  font-size: 48px;
}

.balance-unit {
  font-size: 13px;
  color: var(--text-secondary);
  margin-top: 8px;
}

.balance-bonus {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  background: var(--warning-subtle);
  border: 1px solid rgba(245, 158, 11, 0.2);
  border-radius: 40px;
  font-size: 11px;
  color: var(--warning);
  margin-top: 12px;
}

/* Stats Strip */
.stats-strip {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  background: var(--border-subtle);
  gap: 1px;
}

.stat-cell {
  background: var(--bg-tertiary);
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.stat-label {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  color: var(--text-tertiary);
}

.stat-value {
  font-size: 14px;
  font-weight: 600;
  font-family: "JetBrains Mono", monospace;
  color: var(--text-secondary);
}

.stat-value.success { color: var(--success); }
.stat-value.error { color: var(--error); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   FORM ELEMENTS â€” PRECISE & CLEAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 20px;
}

.form-group:last-child {
  margin-bottom: 0;
}

.form-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary);
}

.form-hint {
  font-size: 11px;
  color: var(--text-tertiary);
  font-family: "JetBrains Mono", monospace;
}

.input-wrapper {
  position: relative;
}

input, textarea, select {
  width: 100%;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-family: "JetBrains Mono", monospace;
  font-size: 13px;
  padding: 10px 14px;
  outline: none;
  transition: all var(--tr-fast);
}

input:focus, textarea:focus, select:focus {
  border-color: var(--accent-solid);
  box-shadow: 0 0 0 3px var(--accent-subtle);
  background: var(--bg-secondary);
}

input::placeholder, textarea::placeholder {
  color: var(--text-disabled);
}

textarea {
  resize: vertical;
  min-height: 100px;
  line-height: 1.6;
}

.char-counter {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  font-family: "JetBrains Mono", monospace;
  color: var(--text-tertiary);
  background: var(--bg-secondary);
  padding: 2px 8px;
  border-radius: 20px;
  border: 1px solid var(--border-default);
  pointer-events: none;
}

.char-counter.warning { color: var(--warning); border-color: rgba(245, 158, 11, 0.3); }
.char-counter.danger { color: var(--error); border-color: rgba(239, 68, 68, 0.3); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   BUTTONS â€” CONFIDENT & CLEAR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 14px;
  border: none;
  cursor: pointer;
  transition: all var(--tr-fast);
  white-space: nowrap;
}

.btn-primary {
  background: var(--accent-solid);
  color: var(--bg-primary);
}

.btn-primary:hover {
  background: var(--accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--accent-glow);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-primary:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.btn-secondary {
  background: transparent;
  border: 1px solid var(--border-default);
  color: var(--text-secondary);
}

.btn-secondary:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border-color: var(--border-strong);
}

.btn-sm {
  padding: 8px 16px;
  font-size: 12px;
}

.btn-full {
  width: 100%;
}

.spinner {
  width: 14px;
  height: 14px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-right-color: currentColor;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
  display: none;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   BADGES & STATUS INDICATORS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 40px;
  font-size: 11px;
  font-weight: 600;
  font-family: "JetBrains Mono", monospace;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.badge-success {
  background: var(--success-subtle);
  color: var(--success);
  border: 1px solid rgba(34, 197, 94, 0.2);
}

.badge-warning {
  background: var(--warning-subtle);
  color: var(--warning);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

.badge-error {
  background: var(--error-subtle);
  color: var(--error);
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.badge-neutral {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-default);
}

.badge-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

.badge-success .badge-dot { background: var(--success); }
.badge-warning .badge-dot { background: var(--warning); }
.badge-error .badge-dot { background: var(--error); }
.badge-neutral .badge-dot { background: var(--text-tertiary); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   RESPONSE PANELS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.response-panel {
  border-radius: var(--radius-md);
  border: 1px solid var(--border-default);
  overflow: hidden;
  display: none;
  margin-top: 20px;
}

.response-panel.show {
  display: block;
}

.response-panel.success { border-color: rgba(34, 197, 94, 0.25); }
.response-panel.error { border-color: rgba(239, 68, 68, 0.25); }
.response-panel.warning { border-color: rgba(245, 158, 11, 0.25); }
.response-panel.info { border-color: var(--border-strong); }

.response-header {
  padding: 12px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 11px;
  font-weight: 600;
  font-family: "JetBrains Mono", monospace;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.success .response-header {
  background: var(--success-subtle);
  color: var(--success);
}

.error .response-header {
  background: var(--error-subtle);
  color: var(--error);
}

.warning .response-header {
  background: var(--warning-subtle);
  color: var(--warning);
}

.info .response-header {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}

.response-body {
  background: var(--bg-tertiary);
  padding: 12px 0;
}

.response-row {
  display: flex;
  align-items: flex-start;
  padding: 8px 16px;
  border-bottom: 1px solid var(--border-subtle);
  gap: 16px;
}

.response-row:last-child {
  border-bottom: none;
}

.response-key {
  min-width: 100px;
  color: var(--text-tertiary);
  font-size: 12px;
  font-family: "JetBrains Mono", monospace;
}

.response-value {
  flex: 1;
  color: var(--text-primary);
  font-size: 12px;
  font-family: "JetBrains Mono", monospace;
  word-break: break-word;
  text-align: right;
}

/* Status Card */
.status-card {
  padding: 24px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  display: none;
  align-items: center;
  gap: 20px;
  margin-top: 20px;
}

.status-card.show {
  display: flex;
}

.status-avatar {
  width: 56px;
  height: 56px;
  border-radius: var(--radius-md);
  background: var(--accent-subtle);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  flex-shrink: 0;
}

.status-info {
  flex: 1;
}

.status-name {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--text-primary);
  font-family: "JetBrains Mono", monospace;
  margin-bottom: 8px;
}

.status-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* Guide Items */
.guide-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.guide-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 14px 16px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-size: 13px;
}

.guide-icon {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  flex-shrink: 0;
  margin-top: 1px;
}

.guide-success .guide-icon {
  background: var(--success-subtle);
  color: var(--success);
}

.guide-warning .guide-icon {
  background: var(--warning-subtle);
  color: var(--warning);
}

.guide-error .guide-icon {
  background: var(--error-subtle);
  color: var(--error);
}

/* Reference Items */
.ref-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ref-item {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  padding: 16px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
}

.ref-content {
  flex: 1;
}

.ref-title {
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.ref-description {
  font-size: 12px;
  color: var(--text-tertiary);
  line-height: 1.5;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   TOAST NOTIFICATIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.toast-container {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 8px;
  pointer-events: none;
}

.toast {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 18px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-strong);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  color: var(--text-primary);
  font-size: 13px;
  pointer-events: auto;
  animation: slideIn 0.2s ease;
  max-width: 360px;
  backdrop-filter: blur(8px);
}

.toast.success { border-left: 4px solid var(--success); }
.toast.error { border-left: 4px solid var(--error); }
.toast.warning { border-left: 4px solid var(--warning); }
.toast.info { border-left: 4px solid var(--info); }

.toast-icon {
  font-size: 16px;
  flex-shrink: 0;
}

.toast.success .toast-icon { color: var(--success); }
.toast.error .toast-icon { color: var(--error); }
.toast.warning .toast-icon { color: var(--warning); }
.toast.info .toast-icon { color: var(--info); }

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(16px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOut {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(16px);
  }
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   MOBILE NAVIGATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.mobile-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-secondary);
  border-top: 1px solid var(--border-default);
  z-index: 95;
  padding: 8px 0 env(safe-area-inset-bottom);
}

.mobile-nav-row {
  display: flex;
  align-items: center;
  justify-content: space-around;
}

.mobile-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 20px;
  background: none;
  border: none;
  color: var(--text-tertiary);
  font-size: 10px;
  font-weight: 500;
  cursor: pointer;
  transition: color var(--tr-fast);
}

.mobile-nav-item.active {
  color: var(--accent-solid);
}

.mobile-nav-icon {
  font-size: 20px;
  line-height: 1;
}

/* Overlay */
.overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  z-index: 95;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--tr-base);
}

.overlay.show {
  opacity: 1;
  pointer-events: auto;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   RESPONSIVE BREAKPOINTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 1024px) {
  .sidebar {
    transform: translateX(-100%);
  }
  
  .sidebar.open {
    transform: translateX(0);
    box-shadow: var(--shadow-lg);
  }
  
  .overlay {
    display: block;
  }
  
  .menu-button {
    display: flex;
  }
  
  .main {
    margin-left: 0;
  }
  
  .grid-2 {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .content-area {
    padding: 24px 16px 90px;
  }
  
  .top-bar {
    padding: 0 16px;
  }
  
  .section-title {
    font-size: 24px;
  }
  
  .balance-number {
    font-size: 48px;
  }
  
  .stats-strip {
    grid-template-columns: 1fr 1fr;
  }
  
  .connection-badge {
    display: none;
  }
  
  .mobile-nav {
    display: block;
  }
  
  .toast-container {
    bottom: 90px;
    right: 16px;
    left: 16px;
  }
  
  .toast {
    max-width: 100%;
  }
}

@media (max-width: 480px) {
  .stats-strip {
    grid-template-columns: 1fr;
  }
  
  .balance-hero {
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;
  }
  
  .card-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
}
  </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="closeSidebar()"></div>

<!-- SIDEBAR -->
<aside class="sidebar" id="sidebar">
  <div class="logo-container">
    <div class="logo-mark">L</div>
    <div class="logo-text">
      <span class="logo-name">Logonvoice</span>
      <span class="logo-sub">BMS Control</span>
    </div>
  </div>

  <nav class="nav-section">
    <div class="nav-group">Overview</div>
    <button class="nav-item active" data-sec="balance" onclick="showSection('balance', this)">
      <span class="nav-icon">ğŸ“Š</span>
      <span>SMS Balance</span>
    </button>
    
    <div class="nav-group">Sender Management</div>
    <button class="nav-item" data-sec="register" onclick="showSection('register', this)">
      <span class="nav-icon">ğŸ“</span>
      <span>Register ID</span>
    </button>
    <button class="nav-item" data-sec="status" onclick="showSection('status', this)">
      <span class="nav-icon">ğŸ”</span>
      <span>Check Status</span>
    </button>
  </nav>

  <div class="sidebar-footer">
    <div class="status-indicator">
      <span class="dot pulse"></span>
      <span>theme</span>
    </div>
    <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">
      <span id="themeIcon">ğŸŒ™</span>
    </button>
  </div>
</aside>

<!-- MAIN CONTENT -->
<main class="main">
  <header class="top-bar">
    <div class="top-bar-left">
      <button class="menu-button" onclick="openSidebar()">â˜°</button>
      <div class="breadcrumb">
        <span>Logonvoice</span>
        <span class="breadcrumb-sep">/</span>
        <span class="breadcrumb-current" id="currentBreadcrumb">SMS Balance</span>
      </div>
    </div>
    <div class="top-bar-right">
      <span class="connection-badge">
        <span class="dot"></span>
        Connected
      </span>
      <button class="btn btn-secondary btn-sm" onclick="handleRefresh()" id="refreshButton">
        <span class="spinner" id="refreshSpinner"></span>
        <span id="refreshLabel">â†» Refresh</span>
      </button>
    </div>
  </header>

  <div class="content-area">
    <!-- BALANCE SECTION -->
    <section class="section active" id="section-balance">
      <div class="section-header">
        <h1 class="section-title">SMS Balance</h1>
        <p class="section-description">Real-time credit balance and API status</p>
      </div>

      <div class="card">
        <div class="balance-hero">
          <div>
            <div class="balance-label">Available Credits</div>
            <div class="balance-number empty" id="balanceNumber">â€”</div>
            <div class="balance-unit" id="balanceUnit">Click Fetch to load</div>
            <div class="balance-bonus" id="balanceBonus" style="display: none;">
              <span>+</span>
              <span id="bonusValue">0</span>
              <span>bonus credits</span>
            </div>
          </div>
          <div>
            <button class="btn btn-primary" onclick="fetchBalance()" id="fetchBalanceBtn">
              <span class="spinner" id="balanceSpinner"></span>
              <span>Fetch Balance</span>
            </button>
          </div>
        </div>
        
        <div class="stats-strip">
          <div class="stat-cell">
            <span class="stat-label">Last Checked</span>
            <span class="stat-value" id="lastChecked">â€”</span>
          </div>
          <div class="stat-cell">
            <span class="stat-label">API Status</span>
            <span class="stat-value" id="apiStatus">â€”</span>
          </div>
          <div class="stat-cell">
            <span class="stat-label">Response Time</span>
            <span class="stat-value" id="responseTime">â€”</span>
          </div>
        </div>
        
        <div class="card-footer" id="balanceFooter">
          <span>â“˜</span>
          <span id="balanceFooterText">Live data from mNotify API â€” no caching</span>
        </div>
      </div>

      <div class="response-panel" id="balanceRawPanel">
        <div class="response-header">
          <span id="balanceRawTitle">API Response</span>
          <span id="balanceRawTime" style="opacity: 0.6;"></span>
        </div>
        <div class="response-body" id="balanceRawBody"></div>
      </div>
    </section>

    <!-- REGISTER SECTION -->
    <section class="section" id="section-register">
      <div class="section-header">
        <h1 class="section-title">Register Sender ID</h1>
        <p class="section-description">Submit a new sender name for approval</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-header-left">
              <div class="card-icon">ğŸ“</div>
              <div>
                <div class="card-title">New Sender ID</div>
                <div class="card-subtitle">POST /senderid/register</div>
              </div>
            </div>
          </div>
          
          <div class="card-body">
            <div class="form-group">
              <label class="form-label">Sender Name</label>
              <div class="input-wrapper">
                <input type="text" id="senderName" placeholder="e.g., LOGONVOICE" 
                       maxlength="11" oninput="updateCharCount(this, 'nameCounter', 11)">
                <span class="char-counter" id="nameCounter">0/11</span>
              </div>
              <span class="form-hint">Max 11 characters Â· letters & numbers only</span>
            </div>
            
            <div class="form-group">
              <label class="form-label">Purpose</label>
              <textarea id="purpose" placeholder="Describe how you'll use this sender ID..."></textarea>
              <span class="form-hint">Be specific â€” vague purposes delay approval</span>
            </div>
            
            <button class="btn btn-primary btn-full" onclick="registerSender()" id="registerBtn">
              <span class="spinner" id="registerSpinner"></span>
              <span>Submit Registration</span>
            </button>
            
            <div class="response-panel" id="registerPanel">
              <div class="response-header" id="registerPanelHeader">
                <span id="registerPanelTitle">Response</span>
              </div>
              <div class="response-body" id="registerPanelBody"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-header-left">
              <div class="card-icon">ğŸ“‹</div>
              <div>
                <div class="card-title">Guidelines</div>
                <div class="card-subtitle">Ensure successful approval</div>
              </div>
            </div>
          </div>
          
          <div class="card-body">
            <div class="guide-list">
              <div class="guide-item guide-success">
                <div class="guide-icon">âœ“</div>
                <span><strong>11 characters max</strong> â€” no spaces or symbols</span>
              </div>
              <div class="guide-item guide-success">
                <div class="guide-icon">âœ“</div>
                <span>Must reflect your <strong>brand or business</strong> name</span>
              </div>
              <div class="guide-item guide-success">
                <div class="guide-icon">âœ“</div>
                <span>Provide <strong>specific purpose</strong> for faster review</span>
              </div>
              <div class="guide-item guide-warning">
                <div class="guide-icon">âš </div>
                <span>Approval takes <strong>24â€“48 business hours</strong></span>
              </div>
              <div class="guide-item guide-error">
                <div class="guide-icon">âœ•</div>
                <span>Avoid generic names like <strong>"SMS", "INFO", "ALERT"</strong></span>
              </div>
              <div class="guide-item guide-error">
                <div class="guide-icon">âœ•</div>
                <span>No impersonation of <strong>government or brands</strong></span>
              </div>
            </div>
          </div>
          
          <div class="card-footer">
            <span>â“˜</span>
            <span>Approved IDs appear as sender name on recipient phones</span>
          </div>
        </div>
      </div>
    </section>

    <!-- STATUS SECTION -->
    <section class="section" id="section-status">
      <div class="section-header">
        <h1 class="section-title">Check Sender ID Status</h1>
        <p class="section-description">Verify approval status of registered sender names</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-header-left">
              <div class="card-icon">ğŸ”</div>
              <div>
                <div class="card-title">Status Lookup</div>
                <div class="card-subtitle">POST /senderid/status</div>
              </div>
            </div>
          </div>
          
          <div class="card-body">
            <div class="form-group">
              <label class="form-label">Sender Name</label>
              <input type="text" id="checkName" placeholder="e.g., LOGONVOICE" 
                     maxlength="11" onkeydown="if(event.key==='Enter') checkStatus()">
              <span class="form-hint">Enter the exact sender name to check</span>
            </div>
            
            <button class="btn btn-primary btn-full" onclick="checkStatus()" id="checkBtn">
              <span class="spinner" id="checkSpinner"></span>
              <span>Check Status</span>
            </button>
            
            <div class="status-card" id="statusCard">
              <div class="status-avatar" id="statusAvatar">ğŸ”</div>
              <div class="status-info">
                <div class="status-name" id="statusName">â€”</div>
                <div class="status-badges" id="statusBadges"></div>
              </div>
            </div>
            
            <div class="response-panel" id="statusPanel">
              <div class="response-header" id="statusPanelHeader">
                <span id="statusPanelTitle">Raw Response</span>
              </div>
              <div class="response-body" id="statusPanelBody"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-header-left">
              <div class="card-icon">â„¹ï¸</div>
              <div>
                <div class="card-title">Status Reference</div>
                <div class="card-subtitle">What each status means</div>
              </div>
            </div>
          </div>
          
          <div class="card-body">
            <div class="ref-list">
              <div class="ref-item">
                <span class="badge badge-success">
                  <span class="badge-dot"></span>
                  Approved
                </span>
                <div class="ref-content">
                  <div class="ref-title">Active & Ready</div>
                  <div class="ref-description">Sender ID verified and approved. Ready for immediate use.</div>
                </div>
              </div>
              
              <div class="ref-item">
                <span class="badge badge-warning">
                  <span class="badge-dot"></span>
                  Pending
                </span>
                <div class="ref-content">
                  <div class="ref-title">Under Review</div>
                  <div class="ref-description">Being reviewed by mNotify. Check back in 24â€“48 hours.</div>
                </div>
              </div>
              
              <div class="ref-item">
                <span class="badge badge-error">
                  <span class="badge-dot"></span>
                  Rejected
                </span>
                <div class="ref-content">
                  <div class="ref-title">Not Approved</div>
                  <div class="ref-description">Didn't meet policy. Register a compliant sender name.</div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="card-footer">
            <span>â“˜</span>
            <span>Status fetched live from mNotify API</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</main>

<!-- Mobile Navigation -->
<nav class="mobile-nav">
  <div class="mobile-nav-row">
    <button class="mobile-nav-item active" data-sec="balance" onclick="showSection('balance', this)">
      <span class="mobile-nav-icon">ğŸ“Š</span>
      <span>Balance</span>
    </button>
    <button class="mobile-nav-item" data-sec="register" onclick="showSection('register', this)">
      <span class="mobile-nav-icon">ğŸ“</span>
      <span>Register</span>
    </button>
    <button class="mobile-nav-item" data-sec="status" onclick="showSection('status', this)">
      <span class="mobile-nav-icon">ğŸ”</span>
      <span>Status</span>
    </button>
  </div>
</nav>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// PROFESSIONAL CONTROL PANEL â€” ENHANCED LOGIC
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const CONFIG = {
  endpoints: {
    balance: 'api.php?action=balance',
    register: 'api.php?action=register',
    status: 'api.php?action=status'
  }
};

// â”€â”€ Theme Management â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const root = document.documentElement;
const savedTheme = localStorage.getItem('bms_theme');
if (savedTheme) root.setAttribute('data-theme', savedTheme);
updateThemeIcon();

function toggleTheme() {
  const current = root.getAttribute('data-theme');
  const isDark = current === 'dark' || (!current && window.matchMedia('(prefers-color-scheme: dark)').matches);
  const next = isDark ? 'light' : 'dark';
  root.setAttribute('data-theme', next);
  localStorage.setItem('bms_theme', next);
  updateThemeIcon();
}

function updateThemeIcon() {
  const icon = document.getElementById('themeIcon');
  const isDark = root.getAttribute('data-theme') === 'dark' ||
    (!root.getAttribute('data-theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);
  icon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
}

// â”€â”€ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openSidebar() {
  document.getElementById('sidebar').classList.add('open');
  document.getElementById('overlay').classList.add('show');
}

function closeSidebar() {
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('overlay').classList.remove('show');
}

// â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sectionTitles = {
  balance: 'SMS Balance',
  register: 'Register ID',
  status: 'Check Status'
};

function showSection(id, element) {
  // Update sections
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(`section-${id}`).classList.add('active');
  
  // Update navigation buttons
  document.querySelectorAll('.nav-item, .mobile-nav-item').forEach(btn => {
    btn.classList.remove('active');
  });
  document.querySelectorAll(`[data-sec="${id}"]`).forEach(btn => {
    btn.classList.add('active');
  });
  
  // Update breadcrumb
  document.getElementById('currentBreadcrumb').textContent = sectionTitles[id];
  
  closeSidebar();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â”€â”€ UI Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setLoading(buttonId, spinnerId, isLoading) {
  const btn = document.getElementById(buttonId);
  const spinner = document.getElementById(spinnerId);
  if (btn) btn.disabled = isLoading;
  if (spinner) spinner.style.display = isLoading ? 'inline-block' : 'none';
}

function updateCharCount(input, counterId, max) {
  const count = input.value.length;
  const counter = document.getElementById(counterId);
  counter.textContent = `${count}/${max}`;
  
  counter.classList.remove('warning', 'danger');
  if (count >= max) counter.classList.add('danger');
  else if (count >= max - 2) counter.classList.add('warning');
}

function formatResponseRows(data) {
  return Object.entries(data).map(([key, value]) => `
    <div class="response-row">
      <span class="response-key">${key}</span>
      <span class="response-value">${typeof value === 'object' ? JSON.stringify(value) : value}</span>
    </div>
  `).join('');
}

function showResponsePanel(panelId, headerId, bodyId, data, type, title, timestamp = '') {
  const panel = document.getElementById(panelId);
  panel.className = `response-panel show ${type}`;
  document.getElementById(headerId).textContent = title;
  if (timestamp && document.getElementById(panelId + 'Time')) {
    document.getElementById(panelId + 'Time').textContent = timestamp;
  }
  document.getElementById(bodyId).innerHTML = formatResponseRows(data);
}

// â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(message, type = 'info') {
  const container = document.getElementById('toastContainer');
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  
  const icons = {
    success: 'âœ“',
    error: 'âœ•',
    warning: 'âš ',
    info: 'â“˜'
  };
  
  toast.innerHTML = `
    <span class="toast-icon">${icons[type]}</span>
    <span>${message}</span>
  `;
  
  container.appendChild(toast);
  
  setTimeout(() => {
    toast.style.animation = 'slideOut 0.2s ease forwards';
    setTimeout(() => toast.remove(), 200);
  }, 3500);
}

// â”€â”€ API Functions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchBalance() {
  setLoading('fetchBalanceBtn', 'balanceSpinner', true);
  
  const balanceNum = document.getElementById('balanceNumber');
  const balanceUnit = document.getElementById('balanceUnit');
  const rawPanel = document.getElementById('balanceRawPanel');
  rawPanel.classList.remove('show');
  
  balanceNum.textContent = 'â€¦';
  balanceNum.className = 'balance-number empty';
  
  try {
    const startTime = Date.now();
    const response = await fetch(CONFIG.endpoints.balance);
    const responseTime = Date.now() - startTime;
    const data = await response.json();
    
    setLoading('fetchBalanceBtn', 'balanceSpinner', false);
    
    const now = new Date().toLocaleTimeString();
    document.getElementById('lastChecked').textContent = now;
    document.getElementById('responseTime').textContent = `${responseTime}ms`;
    
    const isSuccess = data.status === 'success' || data.balance != null || data.credit != null;
    
    if (isSuccess) {
      const credits = parseFloat(data.balance ?? data.credit ?? 0);
      balanceNum.textContent = credits.toLocaleString();
      balanceNum.className = 'balance-number';
      balanceUnit.textContent = 'SMS credits available';
      
      const statusEl = document.getElementById('apiStatus');
      statusEl.textContent = 'OK';
      statusEl.className = 'stat-value success';
      
      const bonus = parseFloat(data.bonus ?? 0);
      if (bonus > 0) {
        document.getElementById('balanceBonus').style.display = 'inline-flex';
        document.getElementById('bonusValue').textContent = bonus.toLocaleString();
      }
      
      document.getElementById('balanceFooterText').textContent = 
        `Updated at ${now} Â· ${responseTime}ms response time`;
      
      showResponsePanel('balanceRawPanel', 'balanceRawTitle', 'balanceRawBody', 
        data, 'success', 'âœ“ Balance Retrieved', now);
      
      showToast('Balance fetched successfully', 'success');
    } else {
      balanceNum.textContent = 'Error';
      balanceUnit.textContent = data.message || 'Failed to load';
      
      const statusEl = document.getElementById('apiStatus');
      statusEl.textContent = 'ERR';
      statusEl.className = 'stat-value error';
      
      showResponsePanel('balanceRawPanel', 'balanceRawTitle', 'balanceRawBody', 
        data, 'error', 'âœ• API Error', now);
      
      showToast(data.message || 'Failed to fetch balance', 'error');
    }
  } catch (error) {
    setLoading('fetchBalanceBtn', 'balanceSpinner', false);
    
    balanceNum.textContent = 'â€”';
    balanceUnit.textContent = 'Connection failed';
    
    const statusEl = document.getElementById('apiStatus');
    statusEl.textContent = 'FAIL';
    statusEl.className = 'stat-value error';
    
    showToast('Connection failed â€” check API endpoint', 'error');
  }
}

async function registerSender() {
  const name = document.getElementById('senderName').value.trim();
  const purpose = document.getElementById('purpose').value.trim();
  
  if (!name) {
    showToast('Sender name is required', 'error');
    return;
  }
  
  if (!purpose) {
    showToast('Purpose is required', 'error');
    return;
  }
  
  if (name.length > 11) {
    showToast('Sender name must be 11 characters or less', 'error');
    return;
  }
  
  setLoading('registerBtn', 'registerSpinner', true);
  
  const panel = document.getElementById('registerPanel');
  panel.classList.remove('show');
  
  try {
    const response = await fetch(CONFIG.endpoints.register, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ sender_name: name, purpose })
    });
    
    const data = await response.json();
    setLoading('registerBtn', 'registerSpinner', false);
    
    const isSuccess = data.status === 'success' || data.code === '2000' || data.code === 2000;
    
    showResponsePanel('registerPanel', 'registerPanelTitle', 'registerPanelBody', 
      data, isSuccess ? 'success' : 'error', 
      isSuccess ? 'âœ“ Submitted for Approval' : 'âœ• Submission Failed');
    
    if (isSuccess) {
      document.getElementById('senderName').value = '';
      document.getElementById('purpose').value = '';
      document.getElementById('nameCounter').textContent = '0/11';
      document.getElementById('nameCounter').className = 'char-counter';
      showToast('Sender ID submitted â€” pending approval', 'success');
    } else {
      showToast(data.message || 'Registration failed', 'error');
    }
  } catch (error) {
    setLoading('registerBtn', 'registerSpinner', false);
    showResponsePanel('registerPanel', 'registerPanelTitle', 'registerPanelBody',
      { error: 'Connection failed' }, 'error', 'âœ• Connection Error');
    showToast('Could not reach the backend', 'error');
  }
}

async function checkStatus() {
  const name = document.getElementById('checkName').value.trim();
  
  if (!name) {
    showToast('Enter a sender name to check', 'error');
    return;
  }
  
  setLoading('checkBtn', 'checkSpinner', true);
  
  const statusCard = document.getElementById('statusCard');
  const statusPanel = document.getElementById('statusPanel');
  statusCard.classList.remove('show');
  statusPanel.classList.remove('show');
  
  try {
    const response = await fetch(CONFIG.endpoints.status, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ sender_name: name })
    });
    
    const data = await response.json();
    setLoading('checkBtn', 'checkSpinner', false);
    
    const rawStatus = (data.status || data.sender_status || data.senderid_status || '').toLowerCase();
    
    let badgeHtml, avatarBg, panelType;
    
    if (rawStatus.includes('approv') || rawStatus === 'active' || rawStatus === 'success') {
      badgeHtml = '<span class="badge badge-success"><span class="badge-dot"></span>Approved</span>';
      avatarBg = 'var(--success-subtle)';
      panelType = 'success';
    } else if (rawStatus.includes('reject') || rawStatus.includes('den') || rawStatus.includes('fail')) {
      badgeHtml = '<span class="badge badge-error"><span class="badge-dot"></span>Rejected</span>';
      avatarBg = 'var(--error-subtle)';
      panelType = 'error';
    } else {
      badgeHtml = '<span class="badge badge-warning"><span class="badge-dot"></span>Pending</span>';
      avatarBg = 'var(--warning-subtle)';
      panelType = 'warning';
    }
    
    if (data.message) {
      badgeHtml += `<span class="badge badge-neutral">${data.message}</span>`;
    }
    
    document.getElementById('statusName').textContent = name.toUpperCase();
    document.getElementById('statusBadges').innerHTML = badgeHtml;
    document.getElementById('statusAvatar').style.background = avatarBg;
    statusCard.classList.add('show');
    
    showResponsePanel('statusPanel', 'statusPanelTitle', 'statusPanelBody', 
      data, panelType, 'âŠ™ Raw Response');
    
    showToast(`Status loaded for ${name.toUpperCase()}`, 'success');
  } catch (error) {
    setLoading('checkBtn', 'checkSpinner', false);
    showResponsePanel('statusPanel', 'statusPanelTitle', 'statusPanelBody',
      { error: 'Connection failed' }, 'error', 'âœ• Connection Error');
    showToast('Could not reach the backend', 'error');
  }
}

function handleRefresh() {
  const activeSection = document.querySelector('.section.active');
  if (!activeSection) return;
  
  setLoading('refreshButton', 'refreshSpinner', true);
  document.getElementById('refreshLabel').textContent = 'Loading...';
  
  const done = () => {
    setLoading('refreshButton', 'refreshSpinner', false);
    document.getElementById('refreshLabel').textContent = 'â†» Refresh';
  };
  
  const sectionId = activeSection.id.replace('section-', '');
  
  if (sectionId === 'balance') {
    fetchBalance().finally(done);
  } else {
    done();
  }
}

// â”€â”€ Initialize â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
window.addEventListener('DOMContentLoaded', () => {
  setTimeout(fetchBalance, 400);
});
</script>
</body>
</html>